<!DOCTYPE html>

<html>

   <head>

       <title>ExpressJs AJAX Stage2</title>

       <meta charset="UTF-8">

       <meta name="viewport" content="width=device-width, initial-scale=1.0">

       <style>

           textarea {

               background-color: black;

               color: white;

               height: 600px;

               width: 400px;

           }

           button{

               background-color: green;

               color: white;

               padding:20px;

           }

       </style>

        <script>

           function run() {

               console.log("Entering AJAX run");

               var xhttp = new XMLHttpRequest();

               xhttp.onreadystatechange = () => {

                   if (xhttp.readyState === XMLHttpRequest.DONE && xhttp.status === 200) {

                       console.log(xhttp.responseText);

                       document.getElementById("ta").value = xhttp.responseText;

                   }

               };

               xhttp.open("GET", "/jsonendpoint", true);

               xhttp.send();

               console.log("Leaving run");

           }

       </script>

   </head>

   <body>

       <h1>A Simple Static HTML Page</h1>

       <br>

       <button onclick="run()"> GetAjaxData </button>

       <br>

       <br>

       <textarea id="ta" style="width:300;height:300"> 

         This is some static content in textarea

       </textarea>

   </body>

</html>